<?xml version="1.0" encoding="utf-8"?>
<configuration>
<configSections>
	<section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
</configSections>
<connectionStrings>
    <add name="connString" connectionString="Data Source=localhost;Initial Catalog=VeterinariaPatitas;Integrated Security=True" providerName="System.Data.SqlClient" />
</connectionStrings>
<startup>
	<supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.7.2" />
</startup>
	<appSettings>
		<add key="connString" value="Data Source=localhost;Initial Catalog=VeterinariaPatitas;Integrated Security=True"/>
		<add key="log4net.Internal.Debug" value="false"/>
	</appSettings>
	<log4net>
		<root>
			<level value="ALL"/>
			<appender-ref ref="AdoNetAppender"/>
		</root>
		<appender name="AdoNetAppender" type="log4net.Appender.AdoNetAppender">
			<bufferSize value="1"/>
			<connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
			<connectionString name="connString" value="Data Source=localhost;Initial Catalog=VeterinariaPatitas;Integrated Security=True"/>
			<commandText value="INSERT INTO Bitacora ([Fecha],[Criticidad],[Actividad],[InformacionAsociada],[Usuario],[DVH]) VALUES (@log_date, @log_level, @logger, @message, NULLIF(@usuario, '(null)'), NULLIF(@dvh, '(null)'))"/>
			<parameter>
				<parameterName value="@log_date"/>
				<dbType value="DateTime"/>
				<layout type="log4net.Layout.RawTimeStampLayout"/>
			</parameter>
			<parameter>
				<parameterName value="@log_level"/>
				<dbType value="String"/>
				<size value="50"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%level"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@logger"/>
				<dbType value="String"/>
				<size value="255"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%logger"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@message"/>
				<dbType value="String"/>
				<size value="4000"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%message"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@usuario"/>
				<dbType value="String"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%X{usuario}"/>
				</layout>
			</parameter>
			<parameter>
				<parameterName value="@dvh"/>
				<dbType value="String"/>
				<layout type="log4net.Layout.PatternLayout">
					<conversionPattern value="%X{dvh}"/>
				</layout>
			</parameter>
		</appender>
	</log4net>
	<runtime>
		<assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.Extensions.Configuration.Abstractions" publicKeyToken="adb9793829ddae60" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-1.1.2.0" newVersion="1.1.2.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-11.0.0.0" newVersion="11.0.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.Extensions.Configuration" publicKeyToken="adb9793829ddae60" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-1.0.2.0" newVersion="1.0.2.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.Extensions.Primitives" publicKeyToken="adb9793829ddae60" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-1.0.1.0" newVersion="1.0.1.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Autofac" publicKeyToken="17863af14b0044da" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-4.8.1.0" newVersion="4.8.1.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.ReportViewer.Common" publicKeyToken="89845dcd8080cc91" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-15.0.0.0" newVersion="15.0.0.0"/>
			</dependentAssembly>
		</assemblyBinding>
	</runtime>
	<system.diagnostics>
		<trace autoflush="true">
			<listeners>
				<add name="textWriterTraceListener" type="System.Diagnostics.TextWriterTraceListener" initializeData="C:\tmp\log4net.txt"/>
			</listeners>
		</trace>
	</system.diagnostics>
</configuration>
